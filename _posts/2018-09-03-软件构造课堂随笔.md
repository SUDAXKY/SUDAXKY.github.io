---
layout:     post   				   
title:      è½¯ä»¶æ„é€ ç¬”è®° 				
subtitle:   å—äº¬å¤§å­¦å†¯æ¡‚ç„•ã€æ½˜æ•å­¦
date:       2018-09-03				
author:     Fortune					
header-img: img/post-bg-map.jpg 	
catalog: true 					
tags:								
    - è½¯ä»¶æ„é€ 
---

## 18.9.3

é¦–è¦æŠ€æœ¯ä½¿å‘½ï¼šç®¡ç†å¤æ‚åº¦

æ„é€ å‰æœŸå·¥ä½œçš„ç›®æ ‡ï¼ˆå¤æŸ¥æ€§å·¥ä½œï¼‰ï¼šé™ä½é£é™©

è¾¨æ˜è½¯ä»¶é¡¹ç›®çš„ç±»å‹ï¼š
å•†ä¸šç³»ç»Ÿï¼ˆé«˜åº¦è¿­ä»£ï¼‰

ä½¿å‘½æ”¸å…³

æ€§å‘½æ”¸å…³ï¼ˆåºåˆ—å¼ï¼‰


## 18.9.12

**è½¯ä»¶æ„é€ ï¼šç¼–ç ã€è°ƒè¯•ã€ä¸€éƒ¨åˆ†çš„è¯¦ç»†è®¾è®¡å’Œå•å…ƒæµ‹è¯•**

### ç±»è®¾è®¡çš„ç¬¬ä¸€æ­¥ï¼šç±»çš„æ¥å£è®¾è®¡

#### è¦å¯¹å¤–å±•ç¤ºä¸€è‡´çš„æŠ½è±¡å±‚æ¬¡

1. **ä¸€ä¸ªç±»åº”è¯¥å®ç°å¹¶ä»…å®ç°æ˜¯ä¸ªADT**
2. **å½“å®ç°äº†å¤šä¸ªADTæ—¶ï¼Œå¯ä»¥è€ƒè™‘é‡æ–°ç»„ç»‡ç±»**
3. **æŠ½è±¡å±‚æ¬¡è¦åˆ°åº”ç”¨å±‚æ¬¡ã€åˆ°æ•°æ®ç»“æ„å±‚æ¬¡ä¸å¤Ÿï¼ˆä¸èƒ½æ··åˆï¼‰**
4. ç†è§£ç±»æ¥å£åº”è¯¥æ•è·çš„æŠ½è±¡åˆ°åº•æ˜¯å“ªä¸€ä¸ª
5. æä¾›æˆå¯¹çš„æœåŠ¡ï¼šä¸è¦ç›²ç›®åˆ›å»ºç›¸åæ“ä½œï¼ˆgetter/setterï¼‰
6. æŠŠä¸ç›¸å…³çš„ä¿¡æ¯è½¬ç§»åˆ°å…¶ä»–ç±»
	1. æ€è€ƒå­ç¨‹åºå’Œæ•°æ®ä¹‹é—´çš„å¼•ç”¨å…³ç³»
7. è®©æ¥å£å¯ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯è¡¨è¾¾è¯­ä¹‰
	1. å¯ç¼–ç¨‹éƒ¨åˆ†ï¼šç¼–è¯‘å™¨å¯æ£€æŸ¥ï¼Œæ¥å£æ•°æ®ç±»å‹ã€å±æ€§ç±»å‹
	2. è¯­ä¹‰éƒ¨åˆ†ï¼šç¼–è¯‘å™¨ä¸å¯æ£€æŸ¥ï¼Œæ¥å£æ€æ ·è¢«ä½¿ç”¨
8. ä¸è¦æ·»åŠ ä¸æ¥å£æŠ½è±¡ä¸ä¸€è‡´çš„å…¬ç”¨æˆå‘˜
9. åŒæ—¶è€ƒè™‘æŠ½è±¡æ€§å’Œå†…èšæ€§

#### å¥½çš„å°è£…ï¼Œä¸è¦æš´éœ²è‡ªèº«æ•°æ®ç»“æ„å’Œå®ç°ç»†èŠ‚

1. å°½å¯èƒ½é™åˆ¶ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§
   1. æœ€ä¸¥æ ¼çš„è®¿é—®çº§åˆ«
   2. ä¿æŠ¤æ¥å£æŠ½è±¡çš„å®Œæ•´æ€§
2. ä¸è¦å…¬å¼€æš´éœ²æˆå‘˜æ•°æ®
3. ä¸è¦å¯¹ç±»çš„ä½¿ç”¨è€…åšä»»ä½•å‡è®¾
4. noå‹å…ƒç±»
5. ä¸è¦å› ä¸ºä¸€ä¸ªå­ç¨‹åºåªä½¿ç”¨å…¬ç”¨å­ç¨‹åºå°±æŠŠå®ƒçº³å…¥å…¬å¼€æ¥å£-å§‹ç»ˆä¿æŒæŠ½è±¡ä¸€è‡´
6. è­¦æƒ•ä»è¯­ä¹‰ä¸Šç ´åå°è£…æ€§

è§£å†³æ–¹æ¡ˆï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹

#### ç•™æ„è¿‡äºç´§å¯†çš„è€¦åˆ

1. å°½å¯èƒ½é™åˆ¶è®¿é—®æƒé™
2. é¿å…å‹å…ƒ
3. é¿å…åœ¨å…¬å¼€çš„æ¥å£ä¸­æš´éœ²æˆå‘˜æ•°æ®ç»“æ„
4. è­¦è§‰è¿ªç±³ç‰¹æ³•åˆ™

### Design&Implementation

#### åŒ…å«

é¢å‘å¯¹è±¡è®¾è®¡çš„**ä¸»åŠ›æŠ€æœ¯**

å®ç°has a å…³ç³»

è­¦æƒ•è¶…è¿‡ä¸ƒä¸ªæ•°æ®æˆå‘˜çš„ç±»

#### ç»§æ‰¿

è¡¨ç¤ºä¸€ä¸ªç±»æ˜¯å¦å¤–ä¸€ä¸ªç±»çš„ç‰¹ä¾‹

ç›®çš„æ˜¯å†™å‡ºæ›´ç²¾ç®€çš„ä»£ç 

ç”¨publicç»§æ‰¿å®ç°*æ˜¯ä¸€ä¸ª*çš„å…³ç³» â€” åŸºç±»å¯¹æ´¾ç”Ÿç±»å°†åšä»€ä¹ˆè®¾å®šäº†é¢„æœŸ

å¯¹ä¸å¯ç»§æ‰¿çš„ç±»æ˜ç¡®ç¦æ­¢

éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ â€” åŸºç±»ä¸­çš„æ‰€æœ‰å­ç¨‹åºï¼Œç”¨åœ¨ä»–çš„æ´¾ç”Ÿç±»ä¸­æ‹¥æœ‰ç›¸åŒçš„è¯­ä¹‰ï¼Œå­ç±»èƒ½å¤Ÿæ›¿æ¢åŸºç±»å®Œæˆç›¸åŒçš„è¯­ä¹‰ï¼Œå­ç±»æ–¹æ³•çš„å‰ç½®æ¡ä»¶æ›´æ¾ï¼Œåç½®æ¡ä»¶æ›´ä¸¥

åªç»§æ‰¿éœ€è¦ç»§æ‰¿çš„éƒ¨åˆ† -- å¦‚æœä»…ä½¿ç”¨å®ç°è€Œä¸æ˜¯æ¥å£åˆ™è€ƒè™‘ä½¿ç”¨åŒ…å«

ä¸è¦è¦†ç›–ä¸å¯è¦†ç›–çš„æˆå‘˜å‡½æ•°

æŠŠå…¬ç”¨çš„å†…å®¹æ”¾åœ¨ç»§æ‰¿ğŸŒ²å°½å¯èƒ½é«˜çš„åœ°æ–¹

ä»¥ä¸‹æƒ…å†µå€¼å¾—æ€€ç–‘ï¼š

	åªæœ‰ä¸€ä¸ªå®ä¾‹çš„ç±»ï¼Œ**åªæœ‰ä¸€ä¸ªæ´¾ç”Ÿç±»çš„åŸºç±»ï¼ˆä¸è¦ä¸ºæœªæ¥åšè®¾è®¡ï¼‰**
	
	è¦†ç›–äº†åŸºç±»çš„å­ç¨‹åºå´ä»€ä¹ˆéƒ½ä¸åš



## 18.9.17

#### æ„é€ å‡½æ•°

å°½å¯èƒ½åœ¨æ‰€æœ‰æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–æ‰€æœ‰æ•°æ®æˆå‘˜

ä¼˜å…ˆé‡‡ç”¨æ·±æ‹·è´

å•ä»¶å±æ€§çš„å®ç°ï¼š privateæ„é€ å‡½æ•°

#### åº”è¯¥é¿å…çš„ç±»

ä¸‡èƒ½ç±»

æ— å…³ç´§è¦çš„ç±»ï¼šåªåŒ…å«æ•°æ®æ²¡æœ‰è¡Œä¸º

ç”¨åŠ¨è¯å‘½åçš„ç±»ï¼šåªæœ‰è¡Œä¸ºæ²¡æœ‰æ•°æ®



### å­ç¨‹åºè®¾è®¡

#### ä¸ºä»€ä¹ˆåˆ›å»ºå­ç¨‹åº

é¿å…ä»£ç é‡å¤

æ”¯æŒå­ç±»åŒ–

éšè—é¡ºåº

éšè—æŒ‡é’ˆæ“ä½œ

æé«˜å¯ç§»æ¤æ€§

ç®€åŒ–å¤æ‚çš„å¸ƒå°”åˆ¤æ–­

æ”¹å–„æ€§èƒ½

## 18.10.09

### é˜²å¾¡å¼ç¼–ç¨‹

ä¸»è¦æ€æƒ³ï¼šå­ç¨‹åºä¸å› ä¼ å…¥é”™è¯¯çš„æ•°æ®è€Œè¢«ç ´åï¼Œå“ªæ€•æ˜¯ç”±å…¶ä»–å­ç¨‹åºäº§ç”Ÿçš„é”™è¯¯æ•°æ®

æ¢å¥è¯è¯´å°±æ˜¯è¦æ‰¿è®¤ç¨‹åºéƒ½ä¼šæœ‰é—®é¢˜ã€‚

åŒºåˆ«äºæ£€æŸ¥é”™è¯¯--é˜²å¾¡å¼ç¼–ç¨‹å¹¶ä¸èƒ½æ’é™¤æ‰€æœ‰é”™è¯¯

åŒºåˆ«äºè°ƒè¯•--æ˜¯ä¸€ç§é˜²å«æ–¹å¼è€Œä¸æ˜¯è¡¥æ•‘æ–¹å¼

åŒºåˆ«äºæµ‹è¯•--æµ‹è¯•ä¸æ˜¯é˜²å¾¡å¼çš„ï¼Œç”¨æ¥éªŒè¯ä»£ç æ˜¯å¦é”™è¯¯

### æ–­è¨€Assertions

å®šä¹‰ï¼š

åœ¨å¼€å‘æœŸé—´ä½¿ç”¨çš„è®©ç¨‹åºåœ¨è¿è¡Œæ—¶è¿›è¡Œè‡ªæ£€çš„ä»£ç 

--æ˜¯å¯¹å¼€å‘äººå‘˜çš„è­¦å‘Š

--é€šå¸¸æ˜¯ä¸€ä¸ªå­ç¨‹åºæˆ–è€…æ˜¯å®

--æ–­è¨€ä¸ºçœŸï¼Œè¡¨ç¤ºç¨‹åºè¿è¡Œæ­£å¸¸ï¼›ä¸ºå‡è¡¨ç¤ºä»£ç å‡ºç°äº†**æ„æ–™ä¹‹å¤–**çš„é”™è¯¯

æ„æˆï¼ˆä¸¤ä¸ªå‚æ•°ï¼‰

--å¸ƒå°”è¡¨è¾¾å¼ï¼šæè¿°å‡è®¾ä¸ºçœŸçš„æƒ…å†µ

--æ˜¾ç¤ºçš„ä¿¡æ¯ï¼šæ–­è¨€ä¸ºå‡æ—¶

demoï¼š

```java
assert denominator != 0: "denominator is unexpectly set to 0"
```



#### æ–­è¨€çš„ç”¨é€”

æ€»ç»“ï¼šåˆ¤æ–­ä¸€ä¸ªå­ç¨‹åºæˆ–ä¸€æ®µä»£ç çš„å‰åç½®æ¡ä»¶æ˜¯å¦ç¬¦åˆé¢„æœŸ

ï¼ˆå„ç§å‚æ•°å’Œæµçš„çŠ¶æ€ï¼‰

#### ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Assertion

ä¸»è¦ç”¨äºå¼€å‘å’Œç»´æŠ¤é˜¶æ®µ

ç”Ÿæˆäº§å“ä»£ç æ—¶å¹¶ä¸ç¼–è¯‘è¿›å»

**æ–­è¨€ç”¨æ¥æ£€æŸ¥æ°¸è¿œä¸åº”è¯¥å‘ç”Ÿçš„æƒ…å†µ**

**é”™è¯¯å¤„ç†ç”¨äºå¤„ç†æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„æ•°æ®**

#### ä¸å˜å¼Invariants

æ°¸è¿œéƒ½åº”è¯¥ä¸ºçœŸçš„æ¡ä»¶ 

å†…éƒ¨ä¸å˜å¼ â€“ ç¨‹åºè¿è¡Œåˆ°ç‰¹å®šæ—¶åˆ»åº”è¯¥ä¸ºçœŸçš„äº‹å® â€“ å¦‚ï¼šassert x > 0 

æ§åˆ¶æµä¸å˜å¼ â€“ æ–­è¨€ä¸ä¼šè¢«è¿è¡Œåˆ°çš„ä»£ç ï¼Œå¦‚assert false: suit; â€“ æ³¨æ„ï¼šå°†è¯­å¥æ”¾ç½®åœ¨ç¼–è¯‘å™¨è®¤ä¸ºä¸ä¼šè¢«è¿è¡Œåˆ°çš„åœ°æ–¹ä¼šæŠ¥é”™ ï¼ˆä¾‹å¦‚å¯ä»¥æ”¾åˆ°switchçš„defaultä¸­ï¼‰

ç±»ä¸å˜å¼ â€“ æŒ‡ç±»å¯¹è±¡ä½œä¸ºæœ‰æ•ˆçš„ç±»æˆå‘˜å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ â€“ å¦‚ï¼šassert person.age >= 0 && person.age < 150; â€“ åœ¨å³å°†ä»publicæ–¹æ³•å’Œæ„é€ å‡½æ•°ä¸­è¿”å›æ—¶æ–­è¨€ç±»çš„ä¸å˜å¼ 

Assertions å¯çœ‹åš**å¯æ‰§è¡Œ**æ³¨è§£

Assertions ä¸èƒ½æœ‰ä»»ä½•å‰¯ä½œç”¨



### é”™è¯¯å¤„ç†æŠ€æœ¯

é”™è¯¯å¤„ç†ç”¨æ¥å¤„ç†é‚£äº›é¢„æ–™ä¸­å¯èƒ½å‘ç”Ÿçš„é”™è¯¯

#### å¸¸ç”¨æŠ€æœ¯

##### è¿”å›ä¸­ç«‹å€¼

 â€“ç»§ç»­æ‰§è¡Œæ“ä½œå¹¶ç®€å•åœ°è¿”å›ä¸€ä¸ªæ²¡æœ‰å±å®³çš„æ•° å€¼ 

â€‹	ï‚§ æ•°å€¼è®¡ç®—å¯ä»¥è¿”å›0 

â€‹	ï‚§ å­—ç¬¦ä¸²æ“ä½œå¯ä»¥è¿”å›ç©ºå­—ç¬¦ä¸² 

â€‹	ï‚§ æŒ‡é’ˆæ“ä½œå¯ä»¥è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ 

##### æ¢ç”¨ä¸‹ä¸€ä¸ªæ­£ç¡®çš„æ•°æ®

 â€“åœ¨å¤„ç†æ•°æ®æµçš„æ—¶å€™ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ­£ç¡®çš„æ•°æ® å³å¯ 

##### è¿”å›ä¸ä¸Šä¸€æ¬¡ç›¸åŒçš„æ•°æ® 

â€“â€œé‡ç”¨ä¸Šä¸€æ¬¡æ­£ç¡®çš„ç»“æœâ€ â€“å¦‚windowsç³»ç»Ÿå´©æºƒåç”¨ä¸Šä¸€æ¬¡é…ç½®é‡å¯åŠ¨ 

##### æ¢ç”¨æœ€æ¥è¿‘çš„åˆæ³•å€¼ 

â€“å¸¸å‡ºç°åœ¨æ•°å€¼è¶…å‡ºå…¶æ­£å¸¸è®¾å®šçš„ä¸Šä¸‹ç•Œçš„æ—¶å€™ â€“Velocityçš„ä¾‹å­ 

##### æŠŠè­¦å‘Šä¿¡æ¯è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­

 â€“åœ¨ä½¿ç”¨è¿™ç§æ–¹æ³•çš„æ—¶å€™éœ€è¦å¯¹é”™è¯¯ä¿¡æ¯è¿›è¡Œæ ‡ç¤ºï¼Œæˆ–è€… å°†è­¦å‘Šä¿¡æ¯å•ç‹¬å­˜æ”¾ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥è¯¢å®šä½ â€“å¯ä»¥å’Œå…¶ä»–æŠ€æœ¯ç»“åˆä½¿ç”¨ 

.........

**é”™è¯¯å¤„ç†çš„æœ€æ°å½“æ–¹æ³•æ˜¯æ ¹æ®å‡ºç°é”™è¯¯çš„è½¯ä»¶ç±»åˆ«è€Œå®š**

äººèº«å®‰å…¨æ€§å‘½æ”¸å…³çš„è½¯ä»¶

æ¶ˆè´¹ç±»è½¯ä»¶

### å¼‚å¸¸

ç”¨å¼‚å¸¸é€šçŸ¥ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†å‘ç”Ÿäº†ä¸å¯ä¸æ˜¯çš„é”™è¯¯

--æä¾›äº†ä¸€ç§æ— æ³•è¢«å¿½è§†çš„é”™è¯¯é€šçŸ¥æœºåˆ¶

--æ¶ˆé™¤äº†é”™è¯¯å‘å¤–æ‰©æ•£çš„å¯èƒ½

ä½†æ˜¯è°ƒç”¨å­ç¨‹åºä»£ç éœ€è¦äº†è§£å…¶ä¸­å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¼±åŒ–çš„å°è£…æ€§ï¼Œå¢åŠ äº†å¤æ‚åº¦

**ä¸èƒ½ç”¨å¼‚å¸¸æ¥æ¨å¸è´£ä»»ï¼Œä¹æ„åœ¨å±€éƒ¨å¤„ç†æ‰çš„å°±åœ¨å±€éƒ¨å¤„ç†**

**ä¸è¦åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸**

**åœ¨æ°å½“çš„æŠ½è±¡å±‚æ¬¡æŠ›å‡ºå¼‚å¸¸**

### éš”æ 

éš”æ çš„ä½¿ç”¨ä½¿æ–­è¨€å’Œé”™è¯¯å¤„ç†æœ‰äº†æ¸…æ™°çš„åŒºåˆ† éš”æ éƒ¨åˆ†åŒ…å«äº†â€œè„æ•°æ®â€ 

â€“éš”æ å¤–éƒ¨çš„ç¨‹åºåº”ä½¿ç”¨é”™è¯¯å¤„ç†æŠ€æœ¯ï¼Œåœ¨é‚£é‡Œå¯¹æ•° æ®åšçš„ä»»ä½•å‡å®šéƒ½æ˜¯ä¸å®‰å…¨çš„ 

é€šè¿‡éš”ç¦»éƒ¨åˆ†ä¹‹åçš„æ˜¯â€œå¹²å‡€æ•°æ®â€ 

â€“éš”æ å†…éƒ¨çš„ç¨‹åºå°±åº”ä½¿ç”¨æ–­è¨€æŠ€æœ¯ï¼Œå› ä¸ºä¼ è¿›æ¥çš„ æ•°æ®åº”è¯¥å·±åœ¨é€šè¿‡éš”æ æ—¶è¢«æ¸…ç†è¿‡äº† 

â€“éš”æ å†…å­ç¨‹åºå‡ºç°é”™è¯¯æ•°æ®ï¼Œå°±æ˜¯ç¨‹åºé‡Œçš„é—®é¢˜ 





### è¾…åŠ©è°ƒè¯•ä»£ç 



#### è¿›æ”»å¼ç¼–ç¨‹

ä¸»åŠ¨æš´éœ²å¯èƒ½å‡ºç°çš„é”™è¯¯

å¸¸ç”¨æ–¹å¼ï¼š

1. ç¡®ä¿æ–­è¨€æ˜¯ç¨‹åºç»ˆæ­¢è¿è¡Œ
2. å®Œå…¨å¡«å……åˆ†é…åˆ°çš„æ‰€æœ‰å†…å­˜
3. å®Œå…¨å¡«å……å·²ç»åˆ†é…åˆ°çš„æ–‡ä»¶å’Œæµ
4. ç¡®ä¿defaultå’Œelseéƒ½èƒ½äº§ç”Ÿä¸¥é‡é”™è¯¯
5. åœ¨åˆ é™¤ä¸€ä¸ªå¯¹è±¡å‰æŠŠå®ƒå¡«æ»¡åƒåœ¾æ•°æ®
6. é”™è¯¯æ—¥å¿—



#### è®¡åˆ’ç§»é™¤è°ƒè¯•è¾…åŠ©ä»£ç 

1. #### ä½¿ç”¨antæˆ–makeè¿™æ ·çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·å’Œmakeå·¥å…·

2. #### ä½¿ç”¨å†…ç½®é¢„å¤„ç†å™¨

   ```c++
   #define DEBUG
   #ifdefined DEBUG
   
   #endif
   ```

3. #### ä½¿ç”¨è°ƒè¯•å­˜æ ¹ï¼ˆstubsï¼‰-- è°ƒè¯•å­ç¨‹åº



#### äº§å“ä¸­ä¿ç•™å¤šå°‘é˜²å¾¡å¼ç¼–ç¨‹ä»£ç 

1. ä¿ç•™æ£€æŸ¥é‡è¦é”™è¯¯çš„ä»£ç 
2. å»æ‰æ£€æŸ¥ç»†å¾®é”™è¯¯çš„ä»£ç 
3. å»æ‰å¯ä»¥å¯¼è‡´ç¨‹åºç¡¬æ€§å´©æºƒçš„ä»£ç 
4. ä¿ç•™å¯ä»¥è®©ç¨‹åºç¨³å¦¥çš„å´©æºƒçš„ä»£ç 
5. è®°å½•é”™è¯¯ä¿¡æ¯
6. ä¿è¯é”™è¯¯ä¿¡æ¯æ˜¯å‹å¥½çš„

